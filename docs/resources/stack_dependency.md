---
page_title: "cm_stack_dependency Resource - terraform-provider-cm"
subcategory: ""
description: |-
  Creates, updates and destroys a stack dependency.
---

# cm_stack_dependency (Resource)

Creates, updates and destroys a stack dependency.

## Example Usage
```terraform
data "cm_stack" "stack" {
  name = "Stack"
}

data "cm_stack" "depends_on_stack" {
  name = "Depends on Stack"
}

resource "cm_stack_dependency" "dependency" {
  stack_id             = data.cm_stack.stack.id
  depends_on_stack_id  = data.cm_stack.depends_on_stack.id
  trigger_option       = "always"

  references = [
    {
      output_of_stack_to_depend_on = "db_endpoint"
      input_for_stack              = "db_endpoint"
      include_sensitive_output     = false
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `depends_on_stack_id` (String) The stack to depend on.
- `stack_id` (String) The stack that depends on another stack.

### Optional

- `references` (Attributes List) List of references wiring outputs to inputs.When set, `trigger_option` is required (see [below for nested schema](#nestedatt--references))
- `trigger_option` (String) Dependency trigger option. When set, `references` is required. Find supported types [here](https://docs.controlmonkey.io/controlmonkey-api/api-enumerations#stack-dependency-trigger-option-types)

### Read-Only

- `id` (String) The unique ID of the dependency.

<a id="nestedatt--references"></a>
### Nested Schema for `references`

Required:

- `input_for_stack` (String)
- `output_of_stack_to_depend_on` (String)

Optional:

- `include_sensitive_output` (Boolean)

## Import

`cm_stack_dependency` can be imported using the ID `sdep-123`, e.g.

```shell
terraform import cm_stack_dependency.dependency sdep-123
```