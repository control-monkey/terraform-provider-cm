---
page_title: "cm_stack_dependency Resource - terraform-provider-cm"
subcategory: ""
description: |-
  Creates, updates and destroys a stack dependency. For more information: ControlMonkey Documentation https://docs.controlmonkey.io/main-concepts/stack/stack-dependencies
---

# cm_stack_dependency (Resource)

Creates, updates and destroys a stack dependency. For more information: [ControlMonkey Documentation](https://docs.controlmonkey.io/main-concepts/stack/stack-dependencies)

## Learn more

- [Introducing Stack Dependencies](https://controlmonkey.io/news/introducing-stack-dependencies/)
- [Comprehensive Overview of your Stack Dependencies](https://controlmonkey.io/news/gain-comprehensive-overview-of-your-stack-dependencies/)
- [Why Traditional CI/CD Pipelines Fail for Infrastructure](https://controlmonkey.io/blog/why-traditional-ci-cd-fail/)

## Example Usage
```terraform
data "cm_stack" "stack" {
  name = "Stack"
}

data "cm_stack" "depends_on_stack" {
  name = "Depends on Stack"
}

resource "cm_stack_dependency" "dependency" {
  stack_id             = data.cm_stack.stack.id
  depends_on_stack_id  = data.cm_stack.depends_on_stack.id
  trigger_option       = "always"

  references = [
    {
      output_of_stack_to_depend_on = "db_endpoint"
      input_for_stack              = "db_endpoint"
      include_sensitive_output     = false
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `depends_on_stack_id` (String) The stack to depend on.
- `stack_id` (String) The stack that depends on another stack.

### Optional

- `references` (Attributes List) List of references wiring outputs to inputs. When set, `trigger_option` is required (see [below for nested schema](#nestedatt--references))
- `trigger_option` (String) Dependency trigger option. When set, `references` is required. Find supported types [here](https://docs.controlmonkey.io/controlmonkey-api/api-enumerations#stack-dependency-trigger-option-types). For more information: [ControlMonkey Docs](https://docs.controlmonkey.io/main-concepts/stack/stack-dependencies#understanding-stack-dependencies)

### Read-Only

- `id` (String) The unique ID of the dependency.

<a id="nestedatt--references"></a>
### Nested Schema for `references`

Required:

- `input_for_stack` (String) The input variable name for the dependent stack.
- `output_of_stack_to_depend_on` (String) The output variable name from the stack to depend on.

Optional:

- `include_sensitive_output` (Boolean) If the output is marked as sensitive in the code, this property must be set to **true** in order to be available as an input.

## Import

`cm_stack_dependency` can be imported using the ID `sdep-123`, e.g.

```shell
terraform import cm_stack_dependency.dependency sdep-123
```