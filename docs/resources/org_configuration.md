---
page_title: "cm_org_configuration Resource - terraform-provider-cm"
subcategory: ""
description: |-
  Creates, updates and destroys org configuration.
---

# cm_org_configuration (Resource)

Creates, updates and destroys org configuration.

## Learn More

- [Choosing the Right IaC Platform: What Really Matters at Scale](https://controlmonkey.io/blog/choosing-the-right-iac-platform/)
- [The Era of Total Cloud Control Is Here](https://controlmonkey.io/blog/the-era-of-total-cloud-control-is-here/)

## Example Usage
```terraform
resource "cm_org_configuration" "org_configuration" {
  iac_config = {
    terraform_version = "1.5.5"
  }

  s3_state_files_locations = [
    {
      bucket_name    = "bucket-example"
      bucket_region  = "us-east-1"
      aws_account_id = "123456789"
    },
  ]

  azure_storage_state_files_locations = [
    {
      storage_account_name  = "mystorageaccount"
      container_name        = "tfstate"
      azure_subscription_id = "my-azure-subscription"
    },
  ]

  gcs_state_files_locations = [
    {
      bucket_name   = "cm-tf-state-bucket"
      gcp_project_id = "my-gcp-project"
    },
  ]

  suppressed_resources = {
    managed_by_tags = [
      {
        key = "aws:eks:cluster-name"
      },
    ]
  }

  report_configurations = [
    {
      enabled    = true
      type       = "weeklyReport"
      recipients = {
        all_admins = true
      },
    },
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `azure_storage_state_files_locations` (Attributes List) The Azure Storage locations of your current terraform state files. This will be used by ControlMonkey to scan for existing managed resources. (see [below for nested schema](#nestedatt--azure_storage_state_files_locations))
- `gcs_state_files_locations` (Attributes List) The GCS buckets of your current terraform state files. This will be used by ControlMonkey to scan for existing managed resources. (see [below for nested schema](#nestedatt--gcs_state_files_locations))
- `iac_config` (Attributes) IaC configuration that defines default versions. If not explicitly overridden, these defaults apply to all namespaces/stacks. (see [below for nested schema](#nestedatt--iac_config))
- `report_configurations` (Attributes List) The S3 buckets of your current terraform state files. This will be used by ControlMonkey to scan for existing managed resources. (see [below for nested schema](#nestedatt--report_configurations))
- `runner_config` (Attributes) Configure the runner settings to specify whether ControlMonkey manages the runner or it is self-hosted. (see [below for nested schema](#nestedatt--runner_config))
- `s3_state_files_locations` (Attributes List) The S3 buckets of your current terraform state files. This will be used by ControlMonkey to scan for existing managed resources. (see [below for nested schema](#nestedatt--s3_state_files_locations))
- `suppressed_resources` (Attributes) (see [below for nested schema](#nestedatt--suppressed_resources))

### Read-Only

- `id` (String) The unique ID of this resource.

<a id="nestedatt--azure_storage_state_files_locations"></a>
### Nested Schema for `azure_storage_state_files_locations`

Required:

- `azure_subscription_id` (String) The Azure Subscription ID where the storage account resides.
- `container_name` (String) The container name within the storage account.
- `storage_account_name` (String) The Azure Storage account name.


<a id="nestedatt--gcs_state_files_locations"></a>
### Nested Schema for `gcs_state_files_locations`

Required:

- `bucket_name` (String) The name of the bucket.
- `gcp_project_id` (String) The GCP project ID where the bucket resides.


<a id="nestedatt--iac_config"></a>
### Nested Schema for `iac_config`

Optional:

- `opentofu_version` (String) the OpenTofu version that will be used for tofu operations.
- `terraform_version` (String) the Terraform version that will be used for terraform operations.
- `terragrunt_version` (String) the Terragrunt version that will be used for terragrunt operations.


<a id="nestedatt--report_configurations"></a>
### Nested Schema for `report_configurations`

Required:

- `enabled` (Boolean) Indicates whether the report distribution is enabled or disabled.
- `type` (String) The type of the report. Supported types: [weeklyReport].

Optional:

- `recipients` (Attributes) Specifies who will receive the report. (see [below for nested schema](#nestedatt--report_configurations--recipients))

<a id="nestedatt--report_configurations--recipients"></a>
### Nested Schema for `report_configurations.recipients`

Optional:

- `all_admins` (Boolean) If enabled, the report will be sent to every administrator within your organization.
- `email_addresses` (List of String) List of email addresses to which the report will be sent.
- `email_addresses_to_exclude` (List of String) List of email addresses to which the report will not be sent.



<a id="nestedatt--runner_config"></a>
### Nested Schema for `runner_config`

Optional:

- `groups` (List of String) In case that `mode` is `selfHosted`, groups must contain at least one runners group. If `mode` is `managed`, this field must not be configured.
- `is_overridable` (Boolean) By setting this option, you allow this configuration to be overridden in specific namespaces/stacks.
- `mode` (String) The runner mode. Allowed values: [managed, selfHosted].


<a id="nestedatt--s3_state_files_locations"></a>
### Nested Schema for `s3_state_files_locations`

Required:

- `aws_account_id` (String) The AWS account ID in which the bucket is situated.
- `bucket_name` (String) The name of the bucket.
- `bucket_region` (String) The region of the bucket.


<a id="nestedatt--suppressed_resources"></a>
### Nested Schema for `suppressed_resources`

Optional:

- `managed_by_tags` (Attributes List) List of tags by which any AWS resource with one of the configured tags will be considered as managed. The tag key/value definition is case sensitive. (see [below for nested schema](#nestedatt--suppressed_resources--managed_by_tags))

<a id="nestedatt--suppressed_resources--managed_by_tags"></a>
### Nested Schema for `suppressed_resources.managed_by_tags`

Required:

- `key` (String) The key of the tag.

Optional:

- `value` (String) The value of the tag.

## Import

`cm_org_configuration` can be imported using the ID `org-config`, e.g.

```shell
terraform import cm_org_configuration.org_configuration org-config
```